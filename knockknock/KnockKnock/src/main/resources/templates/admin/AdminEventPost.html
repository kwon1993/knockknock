<!DOCTYPE HTML>
<html xmlns:layout="http://www.w3.org/1999/xhtml"
	layout:decorate="~{etc/fragments/Main_layout}">
<head>
<title>이벤트 글</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-type" content="application/x-www-form-urlencoded; charset=UTF-8"/>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<style>
body {
	font-family: 'Jua', sans-serif;
}
</style>
</head>
<body>
	<div layout:fragment="content" class="container">
	
		<!-- Modal -->
		<div class="modal fade" id="myModal" role="dialog">
			<div class="modal-dialog">
			
				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">이벤트 취소하기</h4>
						<button type="button" class="close" data-dismiss="modal" th:text="X"></button>
					</div>
					<div class="modal-body">
						<p>이벤트 취소 사유를 적어주세요.</p>
						<form action="adminEventCancel">
							<input type="text" name="cancelReason"><br />
							<button type="submit" class="btn btn-success" th:text="'참가'"></button>
							<button type="button" class="btn btn-default" data-dismiss="modal" th:text="'취소'"></button>
						</form>
					</div>
					<!-- <div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					</div> -->
				</div>
			  
			</div>
		</div>
	
		<div class="jumbotron">
			<h1>이벤트 글 페이지</h1>
		</div>
		<div class="row">
			<div class="col-md-2">
				<h3>관리 메뉴</h3>
				<div class="sidenav">
					<a th:href="@{adminEventListView}">이벤트관리</a><br>
					<a th:href="@{adminMemberSearchView}">회원관리</a><br>
					<a th:href="@{adminVisitList}">방문문의관리</a><br>
					<a th:href="@{adminBranchRegistView}">지점등록</a><br>
				</div>
			</div>
			<div class="col-md-10">
				<h2 th:text="${eventView.title}"></h2>
				<label style="width: 100px;">작성자</label><span th:text="${eventView.nickname}"></span><br />
				<label style="width: 100px;">조회수</label><span th:text="${eventView.hit}"></span><br />
				<label style="width: 100px;">작성시간</label><span th:text="${eventView.writeTime}"></span>
				<label style="width: 100px;">이벤트 모집기간</label><span th:text="${eventView.acceptStartTime}"></span>
				<label> ~ </label><span th:text="${eventView.acceptEndTime}"></span><br />
				<label style="width: 100px;">이벤트 기간</label><span th:text="${eventView.eventStartTime}"></span>
				<span th:text="${eventView.eventEndTime}"></span><br />
				<label style="width: 100px;">모집인원</label><span th:text="${eventView.recruitNumber}"></span>
				<label> / </label><span th:text="${eventView.recruitMaxNumber}"></span><br />
				<button class="accordion">신청한 인원 보기</button>
				<div class="panel">
					<table>
						<tr>
							<td>회원번호</td>
							<td>닉네임</td>
							<td>이름</td>
							<td>성별</td>
						</tr>
						<tr th:each="list : ${joinMember}">
							<td th:text="${list.memberNumber}"></td>
							<td th:text="${list.nickname}"></td>
							<td th:text="${list.name}"></td>
							<td th:text="${list.gender}"></td>
						</tr>
					</table>
				</div>
				<div th:utext="${eventView.content}"></div>
				<form name="myForm" method="post">
					<input type="hidden" class="btn btn-default" name="writingNumber" th:value="${eventView.writingNumber}">
					<button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal">이벤트 취소</button>
					<input type="submit" class="btn btn-default" value="이벤트 삭제">
					<input type="submit" class="btn btn-default" value="이벤트 수정">
					<input type="submit" class="btn btn-default" value="목록으로">
				</form>

			</div>
		</div>
	</div>
</body>
<script>
	function mySubmit(index){
		if (index == 1){
			document.myForm.action = 'adminEventModifyView';
		}
		if (index == 2){
			document.myForm.action = 'adminEventDelete';
		}
		if (index == 3){
			document.myForm.action = 'adminEventListView';
		}
	}
</script>
</html>